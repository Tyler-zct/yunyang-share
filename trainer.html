<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="./assets/flexible.min.js"></script>
    <link rel="stylesheet" href="./assets/swipeslider.css">
    <link rel="stylesheet" href="./css/trainer.css">
    <title>私教详情</title>
</head>

<body>
    <!-- 云扬下载 -->
    <div class="container" style="padding:0 0.4rem;">
        <div class="between">
            <div class="display">
                <img src="./img/me_about_logo.svg" alt="" class="logo">
                <div>
                    <div class="default">云扬健身</div>
                    <div class="gary">共享健身房</div>
                </div>
            </div>
            <div class="download">立即下载</div>
        </div>
    </div>

    <div class="interspace"></div>

    <!-- 私教图片 -->
    <figure id="full_feature" class="swipslider" style="padding-top:68%;">
        <ul class="sw-slides" id="pictures"></ul>
    </figure>

    <!-- 私教信息 -->
    <div class="container" style="padding-top:0.1333rem;">
        <div class="flex">
            <div>
                <span class="user" id="name"></span>
                <span class="gender"></span>
            </div>
            <div>
                <span class="number" id="stature"></span>
                <span class="unit">cm</span>
                <span class="number" id="weight"></span>
                <span class="unit">kg</span>
            </div>
        </div>
        <div class="star">
            <span id="function-star" class="target-star"></span>
            <span id="function-hint" class="hint"></span>分
        </div>
        <div class="label"></div>
    </div>

    <div class="interspace"></div>

    <div class="container">
        <div class="title">
            <img src="./img/course_title.png" alt="" class="course">
            <span>所在门店</span>
        </div>
        <div class="text" id="gym"></div>
        <div class="zan">详细地址：
            <span id="address"></span>
        </div>
        <div class="look">
            <span class="borders">查看门店</span>
            <span class="borders">全部课程</span>
        </div>
    </div>

    <div class="interspace"></div>

    <div class="container">
        <div class="title">
            <img src="./img/course_title.png" alt="" class="course">
            <span>简介</span>
        </div>
        <div class="zan" id="brief"></div>

    </div>

    <div class="interspace"></div>

    <div class="container" style="padding-bottom:0.2667rem;">
        <div class="title">
            <img src="./img/course_title.png" alt="" class="course">
            <span>点评(
                <span id="comment_num"></span>)</span>
            <img src="./img/me_to_homepage.svg" alt="" class="more">
        </div>
        <div id="comments"></div>
    </div>

    <div class="foot">立即预约</div>

    <script type="text/javascript" src="./assets/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="./assets/swipeslider.js"></script>
    <script type="text/javascript" src="./assets/jquery.raty.min.js"></script>
    <script type="text/javascript" src="./assets/jweixin-1.2.0.js"></script>
    <script type="text/javascript" src="./js/trainer.js"></script>
    <script type="text/javascript">
        $(function () {
            //  获取key
            function GetQueryString(name) {
                var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
                var r = window.location.search.substr(1).match(reg);
                // console.log(window.location)
                if (r != null) return unescape(r[2]);
                return null;
            }
            const key = GetQueryString("key");
            if (key != null && key.toString().length > 1) {
                console.log(GetQueryString("key"));
            }

            $.ajax({
                url: `/kong-appint/social/sharing/${key}`,
                // url: `https://tst.ipukr.cn/kong-appint/social/sharing/346de274-ec9d-4646-bb94-55abffc99da6`,
                type: 'get',
                dataType: 'json',
                success: function (res) {
                    let date = res.data;
                    console.log(date)
                    let insScore = date.score;
                    $('#function-star').raty({
                        path: 'img',
                        starHalf: 'course_score03_m.png',
                        starOff: 'course_score02_m.png',
                        starOn: 'course_score01_m.png',
                        target: '#function-hint',
                        targetKeep: true,
                        precision: true,
                        score: insScore,
                        readOnly: true,
                    });
                    $('#user1').raty({
                        path: 'img',
                        starHalf: 'course_score03_m.png',
                        starOff: 'course_score02_m.png',
                        starOn: 'course_score01_m.png',
                        targetKeep: true,
                        precision: true,
                        score: 4,
                        readOnly: true,
                    });
                    $('#user2').raty({
                        path: 'img',
                        starHalf: 'course_score03_m.png',
                        starOff: 'course_score02_m.png',
                        starOn: 'course_score01_m.png',
                        targetKeep: true,
                        precision: true,
                        score: 4,
                        readOnly: true,
                    });
                    $('#user3').raty({
                        path: 'img',
                        starHalf: 'course_score03_m.png',
                        starOff: 'course_score02_m.png',
                        starOn: 'course_score01_m.png',
                        targetKeep: true,
                        precision: true,
                        score: 3,
                        readOnly: true,
                    });
                    $('#user4').raty({
                        path: 'img',
                        starHalf: 'course_score03_m.png',
                        starOff: 'course_score02_m.png',
                        starOn: 'course_score01_m.png',
                        targetKeep: true,
                        precision: true,
                        score: 4,
                        readOnly: true,
                    });
                    $('#user5').raty({
                        path: 'img',
                        starHalf: 'course_score03_m.png',
                        starOff: 'course_score02_m.png',
                        starOn: 'course_score01_m.png',
                        targetKeep: true,
                        precision: true,
                        score: 3,
                        readOnly: true,
                    });
                },
                error: function (err) {
                    console.log(err);
                }
            })

        });
    </script>
</body>

</html>